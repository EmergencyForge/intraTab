<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IntraTab Configuration</title>
    <link rel="stylesheet" href="css/config.css">
</head>
<body>
    <div class="config-container" id="configContainer">
        <div class="config-panel">
            <div class="config-header">
                <h1>IntraTab Konfiguration</h1>
                <button class="close-btn" onclick="closeConfig()" title="Schließen (ESC)">×</button>
            </div>
            
            <div class="config-content" id="configContent">
                <div class="config-section">
                    <h2>Allgemeine Einstellungen</h2>
                    
                    <div class="config-item">
                        <label for="framework">Framework-Erkennung:</label>
                        <select id="framework" onchange="updateConfig('Framework', this.value)">
                            <option value="auto">Automatisch</option>
                            <option value="qbcore">QBCore</option>
                            <option value="esx">ESX</option>
                        </select>
                    </div>
                    
                    <div class="config-item">
                        <label for="intraURL">IntraRP URL:</label>
                        <input type="text" id="intraURL" placeholder="https://deine-url.de/enotf/" onchange="updateConfig('IntraURL', this.value)">
                    </div>
                    
                    <div class="config-item">
                        <label for="debug">Debug Modus:</label>
                        <label class="switch">
                            <input type="checkbox" id="debug" onchange="updateConfig('Debug', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="config-item">
                        <label for="openKey">Öffnungstaste:</label>
                        <select id="openKey" onchange="updateConfig('OpenKey', this.value)">
                            <option value="F1">F1</option>
                            <option value="F2">F2</option>
                            <option value="F3">F3</option>
                            <option value="F4">F4</option>
                            <option value="F5">F5</option>
                            <option value="F6">F6</option>
                            <option value="F7">F7</option>
                            <option value="F8">F8</option>
                            <option value="F9">F9</option>
                            <option value="F10">F10</option>
                        </select>
                    </div>
                </div>
                
                <div class="config-section">
                    <h2>Item Anforderungen</h2>
                    
                    <div class="config-item">
                        <label for="requireItem">Item erforderlich:</label>
                        <label class="switch">
                            <input type="checkbox" id="requireItem" onchange="updateConfig('RequireItem', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="config-item">
                        <label for="requiredItem">Erforderliches Item:</label>
                        <input type="text" id="requiredItem" placeholder="tablet" onchange="updateConfig('RequiredItem', this.value)">
                    </div>
                </div>
                
                <div class="config-section">
                    <h2>Erlaubte Jobs</h2>
                    
                    <div class="jobs-list" id="jobsList">
                        <!-- Jobs will be populated here -->
                    </div>
                    
                    <div class="config-item">
                        <input type="text" id="newJob" placeholder="Job Name eingeben">
                        <button onclick="addJob()" class="btn-add">Hinzufügen</button>
                    </div>
                </div>
                
                <div class="config-section">
                    <h2>Animation & Prop</h2>
                    
                    <div class="config-item">
                        <label for="useProp">Prop verwenden:</label>
                        <label class="switch">
                            <input type="checkbox" id="useProp" onchange="updateConfig('UseProp', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="config-item">
                        <label for="propModel">Prop Model:</label>
                        <input type="text" id="propModel" placeholder="prop_cs_tablet" onchange="updateNestedConfig('Prop', 'model', this.value)">
                    </div>
                </div>
                
                <div class="config-section">
                    <h2>EMD Synchronisierung</h2>
                    
                    <div class="config-item">
                        <label for="emdEnabled">EMD Sync aktiviert:</label>
                        <label class="switch">
                            <input type="checkbox" id="emdEnabled" onchange="updateNestedConfig('EMDSync', 'Enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="config-item">
                        <label for="emdEndpoint">PHP Endpoint:</label>
                        <input type="text" id="emdEndpoint" placeholder="https://deine-url.de/api/emd-sync.php" onchange="updateNestedConfig('EMDSync', 'PHPEndpoint', this.value)">
                    </div>
                    
                    <div class="config-item">
                        <label for="emdApiKey">API Key:</label>
                        <input type="password" id="emdApiKey" placeholder="CHANGE_ME" onchange="updateNestedConfig('EMDSync', 'APIKey', this.value)">
                    </div>
                    
                    <div class="config-item">
                        <label for="emdInterval">Sync Interval (ms):</label>
                        <input type="number" id="emdInterval" placeholder="30000" onchange="updateNestedConfig('EMDSync', 'SyncInterval', parseInt(this.value))">
                    </div>
                </div>
                
                <div class="config-actions">
                    <button onclick="resetConfig()" class="btn-reset">Auf Standardwerte zurücksetzen</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/config.js"></script>
</body>
</html>
